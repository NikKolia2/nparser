"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ModuleResolver_1 = require("./ModuleResolver");
const worker_threads_1 = require("worker_threads");
class Worker extends worker_threads_1.Worker {
    constructor(id, options) {
        let jsFilename;
        let isSourceCode;
        super((() => {
            if (options && options.overwrite) {
                jsFilename = options.overwrite.jsFilename;
                isSourceCode = options.overwrite.isSourceCode;
            }
            else {
                const moduleResolver = new ModuleResolver_1.ModuleResolver(id);
                /**
                 * This will return JS file path
                 */
                jsFilename = moduleResolver.resolveModule();
                isSourceCode = moduleResolver.isSourceCode;
            }
            return jsFilename;
        })(), Object.assign({ eval: isSourceCode }, options));
    }
}
exports.Worker = Worker;
//# sourceMappingURL=Worker.js.map